<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Parameter Selection for FX Transactions</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #f4f6f8;
      color: #333;
      padding-left: 220px;
    }
    header {
      text-align: center;
      margin-bottom: 30px;
    }
    .nav-sidebar {
      width: 200px;
    }
    .nav-link {
      color: #00205B;
    }
    .nav-link:hover {
      text-decoration: underline;
    }
    h1, h2 {
      color: #00205B;
    }
    button {
      background-color: #FFC700;
      color: white;
      font-weight: bold;
    }
    button:hover {
      background-color: #00205B;
    }
  </style>
</head>
<body>
  <!-- Sidebar Navigation -->
  <nav class="position-fixed top-0 start-0 bg-white border-end shadow-sm p-3 vh-100">
    <h5 class="text-primary mb-3">Quick Navigation</h5>
    <ul class="nav flex-column nav-sidebar">
      <li class="nav-item"><a class="nav-link" href="#section1">Timeframe</a></li>
      <li class="nav-item"><a class="nav-link" href="#section2">Parameters</a></li>
      <li class="nav-item"><a class="nav-link" href="#section3">Graphs</a></li>
      <li class="nav-item"><a class="nav-link" href="#section4">Report</a></li>
    </ul>
  </nav>

  <div class="container py-4">
    <header>
      <h1>Parameter Selection for FX Transactions</h1>
    </header>

    <form id="transaction-form">

      <!-- Section 1 -->
      <section id="section1" class="mb-4 animate__animated animate__fadeIn">
        <h2>1. Select Timeframe</h2>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="time-option" id="time-period-option" value="time-period" checked>
          <label class="form-check-label" for="time-period-option">Timeframe</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="time-option" id="date-range-option" value="date-range">
          <label class="form-check-label" for="date-range-option">Year</label>
        </div>

        <div id="time-period-section" class="mt-3">
          <label for="time-frame" class="form-label">Time:</label>
          <select class="form-select" id="time-frame" name="time-frame">
            <option value="yearly">Year</option>
            <option value="semi-annually">Semi-annually</option>
            <option value="quarterly">Quarter</option>
            <option value="monthly">Month</option>
          </select>
        </div>

        <div id="date-range-section" class="mt-3" style="display: none;">
          <label for="start-year" class="form-label">From Year:</label>
          <select class="form-select" id="start-year" name="start-year">
            <!-- Auto-generated years -->
            <script>
              for (let y = 2010; y <= 2025; y++) {
                document.write(`<option value="${y}">${y}</option>`);
              }
            </script>
          </select>

          <label for="end-year" class="form-label mt-2">To Year:</label>
          <select class="form-select" id="end-year" name="end-year">
            <script>
              for (let y = 2010; y <= 2025; y++) {
                document.write(`<option value="${y}">${y}</option>`);
              }
            </script>
          </select>
        </div>
      </section>

      <!-- Section 2 -->
      <section id="section2" class="mb-4 animate__animated animate__fadeIn">
        <h2>2. Select Parameters</h2>

        <div class="row">
          <div class="col-md-6">
            <h5>Client VBM</h5>
            <div class="form-check"><input class="form-check-input" type="checkbox" id="corporate"><label class="form-check-label" for="corporate">Corporate</label></div>
            <div class="form-check"><input class="form-check-input" type="checkbox" id="retail"><label class="form-check-label" for="retail">Retail & Others</label></div>
            <div class="form-check"><input class="form-check-input" type="checkbox" id="private-banking"><label class="form-check-label" for="private-banking">Private Banking</label></div>
            <div class="form-check"><input class="form-check-input" type="checkbox" id="institutional"><label class="form-check-label" for="institutional">Institutional</label></div>
          </div>

          <div class="col-md-6">
            <h5>Transaction Size</h5>
            <div class="form-check"><input class="form-check-input" type="checkbox" id="small"><label class="form-check-label" for="small">Small (&lt; 15K)</label></div>
            <div class="form-check"><input class="form-check-input" type="checkbox" id="medium"><label class="form-check-label" for="medium">Medium (15K - 250K)</label></div>
            <div class="form-check"><input class="form-check-input" type="checkbox" id="large"><label class="form-check-label" for="large">Big (&gt; 250K)</label></div>
          </div>
        </div>
      </section>

      <!-- Section 3 -->
      <section id="section3" class="mb-4 animate__animated animate__fadeIn">
        <h2>3. Graphs</h2>
        <div class="mb-3">
          <label for="graph-type" class="form-label">Graph Type</label>
          <select class="form-select" id="graph-type">
            <option value="bar">Bar</option>
            <option value="line">Line</option>
            <option value="pie">Pie</option>
            <option value="scatter">Scatter</option>
          </select>
        </div>
        <div class="mb-3">
          <label for="graph-title" class="form-label">Title</label>
          <input type="text" class="form-control" id="graph-title">
        </div>
        <div class="mb-3">
          <label for="graph-color" class="form-label">Color</label>
          <input type="color" class="form-control form-control-color" id="graph-color" value="#000000">
        </div>
      </section>

      <div class="graphs" id="graphs">
        <h2>4. Graphs</h2>
      
        <label for="graph-type">Select graph type:</label>
        <select id="graph-type" name="graph-type">
          <option value="bar">Bar Chart</option>
          <option value="line">Line Chart</option>
          <option value="pie">Pie Chart</option>
          <option value="scatter">Scatter Plot</option>
        </select>
      
        <label for="graph-title">Graph title:</label>
        <input type="text" id="graph-title" name="graph-title" placeholder="e.g. Sales by Region">
      
        <label for="graph-color">Graph color:</label>
        <input type="color" id="graph-color" name="graph-color" value="#000000">
      
        <h4>Graph Preview:</h4>
        <canvas id="graphPreview" width="400" height="250"></canvas>
      </div>
      

      <!-- Section 4 -->
      <section id="section4" class="mb-4 animate__animated animate__fadeIn">
        <h2>4. Report Generation</h2>
        <label for="report-format" class="form-label">Choose format</label>
        <select class="form-select" id="report-format">
          <option value="pdf">PDF</option>
          <option value="excel">Excel</option>
          <option value="csv">CSV</option>
          <option value="docx">Word</option>
          <option value="pptx">PowerPoint</option>
        </select>
      </section>

      <div class="text-center">
        <button type="reset" class="btn me-2">Reset</button>
        <button type="submit" class="btn me-2">Generate Report</button>
        <button type="button" class="btn">Save Preferences</button>
      </div>
    </form>
  </div>

  <!-- Bootstrap 5 JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    document.getElementById('time-period-option').addEventListener('change', function() {
      document.getElementById('time-period-section').style.display = 'block';
      document.getElementById('date-range-section').style.display = 'none';
    });

    document.getElementById('date-range-option').addEventListener('change', function() {
      document.getElementById('time-period-section').style.display = 'none';
      document.getElementById('date-range-section').style.display = 'block';
    });
            const typeSelect = document.getElementById('graph-type');
            const colorPicker = document.getElementById('graph-color');
            const titleInput = document.getElementById('graph-title');
            const ctx = document.getElementById('graphPreview').getContext('2d');

            let chart;

            function renderPreview() {
                const type = typeSelect.value;
                const color = colorPicker.value;
                const title = titleInput.value || 'Graph Preview';

                const config = {
                type: type === 'scatter' ? 'scatter' : type,
                data: {
                    labels: ['A', 'B', 'C', 'D', 'E'],
                    datasets: [{
                    label: title,
                    backgroundColor: color,
                    borderColor: color,
                    data: type === 'scatter'
                        ? [{x:1,y:2}, {x:2,y:4}, {x:3,y:3}]
                        : [5, 10, 3, 7, 6],
                    }]
                },
                options: {
                    responsive: false,
                    plugins: {
                    title: {
                        display: true,
                        text: title
                    }
                    },
                    scales: type === 'scatter' ? {
                    x: { type: 'linear', position: 'bottom' },
                    y: { beginAtZero: true }
                    } : {}
                }
                };

                if (chart) chart.destroy();
                chart = new Chart(ctx, config);
            }

            // Initial render
            renderPreview();

            // Update preview on change
            typeSelect.addEventListener('change', renderPreview);
            colorPicker.addEventListener('input', renderPreview);
            titleInput.addEventListener('input', renderPreview);

  </script>
</body>
</html>
